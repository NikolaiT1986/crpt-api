# CrptApi

Проект представляет собой класс для работы с API Честного знака (ГИС МТ). Класс является thread-safe и реализует
ограничение на количество запросов, используя стратегию лимитирования со скользящим окном.

## Описание

Класс `CrptApi` реализует метод для создания документа для ввода в оборот товара, произведенного в
России. Класс включает:

- Лимитирование запросов (с использованием стратегии скользящего окна).
- JSON-сериализация с использованием Jackson.
- Удобная возможность для тестирования и расширения.

## Требования

- Java 11+
- Maven 3.6+

### Функциональность

1. **Метод для создания документа**: Создание документа типа `LP_INTRODUCE_GOODS`, который используется для ввода в
   оборот товара, произведенного на территории Российской Федерации.
2. **Ограничение на количество запросов**: В конструктор передается время (`TimeUnit`) и количество запросов, которые
   можно выполнить в указанное время.
3. **Поддержка формата документа**: Стандартный формат `MANUAL`, но легко можно расширить для других типов.
4. **Обработчик ошибок**: Проверка обязательных полей документа и выбрасывание `IllegalArgumentException` в случае
   ошибок валидации.

### Структура проекта

- `src/main/java/org/nikolait/crptapi/CrptApi.java` — основной класс для работы с API.
- `src/test/java/org/nikolait/crptapi/` — тесты для проверки функционала API.
- `src/test/resources/docs/` — тестовые файлы JSON для создания документов.

### Пример использования с минимальным набором параметров или аргументов, как написать

```java
import org.nikolait.crptapi.CrptApi;

import java.net.http.HttpResponse;
import java.util.concurrent.TimeUnit;

CrptApi api = new CrptApi(TimeUnit.MINUTES, 5);
LpIntroduceGoodsDocument document = new LpIntroduceGoodsDocument();
// Заполните поля документа
HttpResponse<String> response = api.createLpIntroduceGoods(
        "your_bearer_token",
        "productGroup",
        document,
        "signature_base64"
);
```

## Запустить все тесты
```bash
  mvn test
```
